<html>
    <head>
	<title>FPV Robot</title>
	<!-- meta name="viewport" content="width=device-width, initial-scale=1"-->
	<link rel="stylesheet" type="text/css" href="static/style.css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <script src="static/control.js"></script>
    </head>
    <body class="res{{ resolution }}">
        <div id="display">
	    <div id="voltage-box">
		<span id="voltage-symbol"></span> <span id="voltage">0</span>V
	    </div>
	    <div id="camera-params">
		<span id="camera-params-icon">&#x2692;</span>
		<table id="camera-params-table" style="display:none">
		    <tr>
			<td>Resolution:</td>
			<td>
			    <select id="resolution">
				<option value="320x240" {% if resolution == '320x240' %}selected="selected"{% endif %}>320x240</option>
				<option value="640x480" {% if resolution == '640x480' %}selected="selected"{% endif %}>640x480</option>
				<option value="800x600" {% if resolution == '800x600' %}selected="selected"{% endif %}>800x600</option>
				<option value="1024x768" {% if resolution == '1024x768' %}selected="selected"{% endif %}>1024x768</option>
				<option value="1280x1024" {% if resolution == '1280x1024' %}selected="selected"{% endif %}>1280x1024</option>
				<option value="1920x1080" {% if resolution == '1920x1080' %}selected="selected"{% endif %}>1920x1080</option>
			    </select>
			</td>
		    </tr>
		    <tr>
			<td>Quality:</td>
			<td>
			    <input id="quality" type="range" min="0" max="4" value="{{ quality }}"/>
			</td>
		    </tr>
		</table>
	    </div>
	    <div id="video-box">
		<img id="video" src="stream.mjpg" />
	    </div>
	    <div id="button-box">
		<table id="button-table">
		    <tr>
			<td id="robot-move">
			    <table>
				<tr>
				    <td></td>
				    <td><button data-code="KeyW">W</button></td>
				    <td></td>
				</tr>
				<tr>
				    <td><button data-code="KeyA">A</button></td>
				    <td><button data-code="Space">✕</button></td>
				    <td><button data-code="KeyD">D</button></td>
				</tr>
				<tr>
				    <td></td>
				    <td><button data-code="KeyS">S</button></td>
				    <td></td>
				</tr>
			    </table>
			</td>
			<td id="extra">
			    <button data-code="KeyL">L</button>
			</td>
			<td id="camera-move">
			    <table>
				<tr>
				    <td></td>
				    <td><button data-code="ArrowUp">↑</button></td>
				    <td></td>
				</tr>
				<tr>
				    <td><button data-code="ArrowLeft">←</button></td>
				    <td><button data-code="Home">✕</button></td>
				    <td><button data-code="ArrowRight">→</button></td>
				</tr>
				<tr>
				    <td></td>
				    <td><button data-code="ArrowDown">↓</button></td>
				    <td></td>
				</tr>
			    </table>
			</td>
		    </tr>
		</table>
	    </div>
	</div>
    </body>
</html>
